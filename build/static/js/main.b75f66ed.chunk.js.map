{"version":3,"sources":["PersonForm.js","Persons.js","Filter.js","services/phonebook.js","Notification.js","App.js","index.js"],"names":["PersonForm","handleAdd","newName","handleChange","number","setNumber","onSubmit","value","name","onChange","e","target","type","Persons","filtered","onDelete","map","person","onClick","Filter","search","setSearch","baseURL","getAll","a","req","axios","get","data","create","obj","post","remove","delete","id","update","put","Notification","message","errorStyle","color","error","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","persons","setPersons","setNewName","setMessage","setError","useEffect","phoneService","then","catch","err","console","log","filter","toLowerCase","includes","preventDefault","newPerson","some","window","confirm","find","n","changedPerson","phonebook","setTimeout","response","deletedPerson","statusText","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b75f66ed.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  handleAdd,\r\n  newName,\r\n  handleChange,\r\n  number,\r\n  setNumber,\r\n}) => {\r\n  return (\r\n    <form onSubmit={handleAdd}>\r\n      <div>\r\n        name:{\" \"}\r\n        <input value={newName} name=\"name\" onChange={(e) => handleChange(e)} />\r\n        <div>\r\n          number:{\" \"}\r\n          <input\r\n            name=\"number\"\r\n            value={number}\r\n            onChange={(e) => setNumber(e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Persons = ({ filtered, onDelete }) => {\r\n  return (\r\n    <div>\r\n      {filtered.map((person) => (\r\n        <p key={person.name} {...person}>\r\n          {person.name} {person.number}{\" \"}\r\n          <button onClick={()=> onDelete(person)}>delete</button>\r\n        </p>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React from 'react'\r\n\r\nconst Filter = ({search, setSearch}) => {\r\n  return (\r\n    <div>\r\n      filter shown with\r\n      <input\r\n        type=\"text\"\r\n        value={search}\r\n        onChange={(e) => setSearch(e.target.value)}\r\n        name=\"search\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Filter\r\n","import axios from \"axios\";\r\nconst baseURL = `http://localhost:3001/api/persons`;\r\n\r\nconst getAll = async () => {\r\n  const req = axios.get(baseURL);\r\n  const data = await req;\r\n  return data;\r\n};\r\n\r\nconst create = (obj) => axios.post(baseURL, obj);\r\n\r\nconst remove = (obj) => axios.delete(`${baseURL}/${obj.id}`);\r\n\r\nconst update = (obj) => axios.put(`${baseURL}/${obj.id}`, obj);\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { getAll, create, remove, update };\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, error }) => {\r\n  const errorStyle = {\r\n    color: error ? \"red\" : \"green\",\r\n    background: \"lightgrey\",\r\n    fontSize: \"20px\",\r\n    borderStyle: \"solid\",\r\n    borderRadius: \"5px\",\r\n    padding: \"10px\",\r\n    marginBottom: \"10px\",\r\n  };\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div style={errorStyle}>{message}</div>;\r\n};\r\nexport default Notification;\r\n","import React, { useEffect, useState } from \"react\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport Filter from \"./Filter\";\nimport phoneService from \"./services/phonebook\";\nimport phonebook from \"./services/phonebook\";\nimport Notification from \"./Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(false);\n  const [search, setSearch] = useState(\"\");\n\n  useEffect(() => {\n    phoneService\n      .getAll()\n      .then(({ data }) => setPersons(data))\n      .catch((err) => console.log(err));\n  }, []);\n\n  const handleAdd = (e) => {\n    e.preventDefault();\n    const newPerson = { name: newName, number };\n\n    if (persons.some((person) => person.name === newName)) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook. Replace the old number with a new one?`\n        )\n      ) {\n        const person = persons.find((n) => n.name === newPerson.name);\n        const changedPerson = { ...person, number };\n\n        phonebook\n          .update(changedPerson)\n          .then(({ data }) => {\n            setPersons(\n              persons.map((person) => (person.id !== data.id ? person : data))\n            );\n            setError(false);\n            setMessage(`Edited ${data.name}`);\n\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n\n            setNewName(\"\");\n            setNumber(\"\");\n          })\n          .catch((error) => {\n            console.log(error.response.data);\n          });\n      }\n      return;\n    }\n    phoneService.create(newPerson).then(({ data }) => {\n      setError(false);\n      setMessage(`Added ${data.name}`);\n\n      setTimeout(() => {\n        setMessage(null);\n      }, 5000);\n\n      setPersons([...persons, data]);\n      setNewName(\"\");\n      setNumber(\"\");\n    });\n  };\n\n  const handleDelete = (obj) => {\n    if (window.confirm(`Delete ${obj.name}?`)) {\n      phoneService\n        .remove(obj)\n        .then(() => {\n          setError(false);\n          const deletedPerson = persons.filter(\n            (person) => obj.id === person.id\n          )[0];\n          setPersons(persons.filter((person) => obj.id !== person.id));\n          setMessage(`Deleted ${deletedPerson.name}`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 4000);\n        })\n        .catch(({ response }) => {\n          if (response.statusText === \"Not Found\") {\n            setError(true);\n            setMessage(`Information of ${obj.name} has been removed from server already!`);\n            setTimeout(() => {\n              setMessage(null);\n            }, 4000);\n          }\n        });\n    }\n  };\n\n  const filtered = persons.filter((person) =>\n    person.name.toLowerCase().includes(search.toLowerCase())\n  );\n\n  const handleChange = (e) => {\n    setNewName(e.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} error={error} />\n      <Filter search={search} setSearch={setSearch} />\n      <h1>add new</h1>\n      <PersonForm\n        handleAdd={handleAdd}\n        handleChange={handleChange}\n        number={number}\n        setNumber={setNumber}\n        newName={newName}\n      />\n\n      <h2>Numbers</h2>\n      <Persons filtered={filtered} onDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}